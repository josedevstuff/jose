-- Services
local UserInputService = game:GetService("UserInputService")
local CoreGui = game:GetService("CoreGui")

-- Path
local guiName = string.char(67,104,97,116,32,83,112,121,32,66,121,32,55,115,111,110,101)

-- Wait for GUI and Frame to load
local gui = CoreGui:WaitForChild(guiName)
local frame = gui:WaitForChild("Frame")

-- Create a resize handle (top-left corner)
local resizeHandle = Instance.new("Frame")
resizeHandle.Size = UDim2.new(0, 25, 0, 25) -- touch friendly
resizeHandle.Position = UDim2.new(0, 0, 0, 0) -- top-left
resizeHandle.AnchorPoint = Vector2.new(0, 0)
resizeHandle.BackgroundColor3 = Color3.fromRGB(150, 150, 150)
resizeHandle.BorderSizePixel = 1
resizeHandle.Parent = frame

-- Variables
local resizing = false
local lastPos

-- Start resizing
local function beginResize(pos)
	resizing = true
	lastPos = pos
end

-- Stop resizing
local function endResize()
	resizing = false
end

-- Update frame while resizing
local function updateResize(pos)
	if resizing and lastPos then
		local delta = pos - lastPos
		lastPos = pos

		-- Adjust size & position relative to top-left
		frame.Size = UDim2.new(0, frame.Size.X.Offset - delta.X, 0, frame.Size.Y.Offset - delta.Y)
		frame.Position = UDim2.new(0, frame.Position.X.Offset + delta.X, 0, frame.Position.Y.Offset + delta.Y)

		-- Keep handle pinned to top-left
		resizeHandle.Position = UDim2.new(0, 0, 0, 0)
	end
end

-- Mouse input
resizeHandle.InputBegan:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 then
		beginResize(UserInputService:GetMouseLocation())
	end
end)

UserInputService.InputEnded:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 then
		endResize()
	end
end)

UserInputService.InputChanged:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseMovement then
		updateResize(UserInputService:GetMouseLocation())
	end
end)

-- Touch input
resizeHandle.InputBegan:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.Touch then
		beginResize(input.Position)
	end
end)

UserInputService.TouchEnded:Connect(function()
	endResize()
end)

UserInputService.TouchMoved:Connect(function(input)
	updateResize(input.Position)
end)
